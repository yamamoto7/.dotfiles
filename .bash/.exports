#!/usr/bin/env bash

# ============================================
# Editor
# ============================================
export EDITOR='nvim'
export VISUAL='nvim'

# ============================================
# Language
# ============================================
export LANG='en_US.UTF-8'
export LC_ALL='en_US.UTF-8'

# ============================================
# fzf
# ============================================
export FZF_DEFAULT_OPTS='
  --height=40%
  --layout=reverse
  --border
  --info=inline
  --cycle
  --color=fg:#c0caf5,bg:#1a1b26,hl:#bb9af7
  --color=fg+:#c0caf5,bg+:#292e42,hl+:#7dcfff
  --color=info:#7aa2f7,prompt:#7dcfff,pointer:#7dcfff
  --color=marker:#9ece6a,spinner:#9ece6a,header:#9ece6a
'

# Use fd for fzf if available
if command -v fd &> /dev/null; then
    export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git'
    export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
    export FZF_ALT_C_COMMAND='fd --type d --hidden --follow --exclude .git'
fi

# ============================================
# bat (better cat)
# ============================================
export BAT_THEME="Monokai Extended"

# ============================================
# PATH additions
# ============================================
export PATH="$HOME/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/flutter/bin:$PATH"
export PATH="$HOME/.pub-cache/bin:$PATH"

# MySQL client
export PATH="/opt/homebrew/opt/mysql-client/bin:$PATH"
export LDFLAGS="-L/opt/homebrew/opt/mysql-client/lib"
export CPPFLAGS="-I/opt/homebrew/opt/mysql-client/include"
export LIBRARY_PATH=$LIBRARY_PATH:$(brew --prefix zstd 2>/dev/null)/lib/

# ============================================
# mise (modern version manager - replaces anyenv/nodenv/pyenv)
# ============================================
if command -v mise &> /dev/null; then
    eval "$(mise activate bash)"
fi

# ============================================
# zoxide (smart cd)
# ============================================
if command -v zoxide &> /dev/null; then
    eval "$(zoxide init bash)"
fi

# ============================================
# Silence macOS bash deprecation warning
# ============================================
export BASH_SILENCE_DEPRECATION_WARNING=1

# ============================================
# GPG (uncomment if needed)
# ============================================
# export GPG_TTY=$(tty)
